# Comparing `tmp/drift_cli-0.9.0-py3-none-any.whl.zip` & `tmp/drift_cli-0.9.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,20 +1,20 @@
-Zip file size: 24147 bytes, number of entries: 18
--rw-r--r--  2.0 unx      192 b- defN 23-Sep-14 13:30 drift_cli/__init__.py
--rw-r--r--  2.0 unx       84 b- defN 23-Sep-14 13:30 drift_cli/__main__.py
--rw-r--r--  2.0 unx     2344 b- defN 23-Sep-14 13:30 drift_cli/alias.py
--rw-r--r--  2.0 unx     1216 b- defN 23-Sep-14 13:30 drift_cli/cli.py
--rw-r--r--  2.0 unx      829 b- defN 23-Sep-14 13:30 drift_cli/config.py
--rw-r--r--  2.0 unx     3073 b- defN 23-Sep-14 13:30 drift_cli/export.py
--rw-r--r--  2.0 unx    10857 b- defN 23-Sep-14 13:30 drift_cli/export_impl/raw.py
--rw-r--r--  2.0 unx        0 b- defN 23-Sep-14 13:30 drift_cli/utils/__init__.py
--rw-r--r--  2.0 unx      129 b- defN 23-Sep-14 13:30 drift_cli/utils/consoles.py
--rw-r--r--  2.0 unx      513 b- defN 23-Sep-14 13:30 drift_cli/utils/error.py
--rw-r--r--  2.0 unx     4869 b- defN 23-Sep-14 13:30 drift_cli/utils/helpers.py
--rw-r--r--  2.0 unx     2280 b- defN 23-Sep-14 13:30 drift_cli/utils/humanize.py
--rw-r--r--  2.0 unx    16725 b- defN 23-Sep-14 13:31 drift_cli-0.9.0.dist-info/LICENSE
--rw-r--r--  2.0 unx    22496 b- defN 23-Sep-14 13:31 drift_cli-0.9.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Sep-14 13:31 drift_cli-0.9.0.dist-info/WHEEL
--rw-r--r--  2.0 unx       45 b- defN 23-Sep-14 13:31 drift_cli-0.9.0.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       10 b- defN 23-Sep-14 13:31 drift_cli-0.9.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1444 b- defN 23-Sep-14 13:31 drift_cli-0.9.0.dist-info/RECORD
-18 files, 67198 bytes uncompressed, 21789 bytes compressed:  67.6%
+Zip file size: 24185 bytes, number of entries: 18
+-rw-r--r--  2.0 unx      192 b- defN 23-Dec-14 13:49 drift_cli/__init__.py
+-rw-r--r--  2.0 unx       84 b- defN 23-Dec-14 13:49 drift_cli/__main__.py
+-rw-r--r--  2.0 unx     2344 b- defN 23-Dec-14 13:49 drift_cli/alias.py
+-rw-r--r--  2.0 unx     1216 b- defN 23-Dec-14 13:49 drift_cli/cli.py
+-rw-r--r--  2.0 unx      829 b- defN 23-Dec-14 13:49 drift_cli/config.py
+-rw-r--r--  2.0 unx     3073 b- defN 23-Dec-14 13:49 drift_cli/export.py
+-rw-r--r--  2.0 unx    10799 b- defN 23-Dec-14 13:49 drift_cli/export_impl/raw.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Dec-14 13:49 drift_cli/utils/__init__.py
+-rw-r--r--  2.0 unx      129 b- defN 23-Dec-14 13:49 drift_cli/utils/consoles.py
+-rw-r--r--  2.0 unx      513 b- defN 23-Dec-14 13:49 drift_cli/utils/error.py
+-rw-r--r--  2.0 unx     5002 b- defN 23-Dec-14 13:49 drift_cli/utils/helpers.py
+-rw-r--r--  2.0 unx     2280 b- defN 23-Dec-14 13:49 drift_cli/utils/humanize.py
+-rw-r--r--  2.0 unx    16725 b- defN 23-Dec-14 13:49 drift_cli-0.9.1.dist-info/LICENSE
+-rw-r--r--  2.0 unx    22496 b- defN 23-Dec-14 13:49 drift_cli-0.9.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Dec-14 13:49 drift_cli-0.9.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx       45 b- defN 23-Dec-14 13:49 drift_cli-0.9.1.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       10 b- defN 23-Dec-14 13:49 drift_cli-0.9.1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1444 b- defN 23-Dec-14 13:49 drift_cli-0.9.1.dist-info/RECORD
+18 files, 67273 bytes uncompressed, 21827 bytes compressed:  67.6%
```

## zipnote {}

```diff
@@ -30,26 +30,26 @@
 
 Filename: drift_cli/utils/helpers.py
 Comment: 
 
 Filename: drift_cli/utils/humanize.py
 Comment: 
 
-Filename: drift_cli-0.9.0.dist-info/LICENSE
+Filename: drift_cli-0.9.1.dist-info/LICENSE
 Comment: 
 
-Filename: drift_cli-0.9.0.dist-info/METADATA
+Filename: drift_cli-0.9.1.dist-info/METADATA
 Comment: 
 
-Filename: drift_cli-0.9.0.dist-info/WHEEL
+Filename: drift_cli-0.9.1.dist-info/WHEEL
 Comment: 
 
-Filename: drift_cli-0.9.0.dist-info/entry_points.txt
+Filename: drift_cli-0.9.1.dist-info/entry_points.txt
 Comment: 
 
-Filename: drift_cli-0.9.0.dist-info/top_level.txt
+Filename: drift_cli-0.9.1.dist-info/top_level.txt
 Comment: 
 
-Filename: drift_cli-0.9.0.dist-info/RECORD
+Filename: drift_cli-0.9.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## drift_cli/export_impl/raw.py

```diff
@@ -161,16 +161,14 @@
     it = client.walk(topic, to_timestamp(kwargs["start"]), to_timestamp(kwargs["stop"]))
 
     def _next():
         try:
             return next(it)
         except StopIteration:
             return None
-        except DriftClientError:
-            return None
 
     pkg = await asyncio.get_running_loop().run_in_executor(pool, _next)
     if pkg is None or pkg.meta.type == MetaInfo.TIME_SERIES:
         await _export_csv_timeseries(pool, client, topic, dest, progress, sem, **kwargs)
     elif pkg.meta.type == MetaInfo.TYPED_DATA:
         await _export_csv_typed_data(pool, client, topic, dest, progress, sem, **kwargs)
     else:
@@ -332,13 +330,13 @@
                     pool,
                     client,
                     topic,
                     dest,
                     progress,
                     sem,
                     topics=topics,
-                    parallel=parallel // len(topics) + 1,
+                    parallel=min(parallel, len(topics)),
                     **kwargs,
                 )
                 for topic in topics
             ]
             await asyncio.gather(*tasks)
```

## drift_cli/utils/helpers.py

```diff
@@ -95,28 +95,30 @@
             loop.add_signal_handler(signal.SIGINT, stop_signal)
             loop.add_signal_handler(signal.SIGTERM, stop_signal)
         except NotImplementedError:
             error_console.print(
                 "Signals are not supported on this platform. No graceful shutdown possible."
             )
 
-        it = client.walk(topic, start=start, stop=stop)
+        it = client.walk(topic, start=start, stop=stop, ttl=180 * parallel)
 
         def _next():
             try:
                 return next(it)
             except StopIteration:
                 return None
-            except DriftClientError:
-                return None
 
         while True:
-            drift_pkg = await loop.run_in_executor(pool, _next)
-            if drift_pkg is None:
-                break
+            try:
+                drift_pkg = await loop.run_in_executor(pool, _next)
+                if drift_pkg is None:
+                    break
+            except DriftClientError as err:
+                progress.update(task, description=f"[ERROR] {err}", refresh=True)
+                return
 
             if signal_queue.qsize() > 0:
                 # stop signal received
                 progress.update(
                     task,
                     description=f"Topic '{topic}' "
                     f"(copied {count} packages ({pretty_size(exported_size)}), stopped",
```

## Comparing `drift_cli-0.9.0.dist-info/LICENSE` & `drift_cli-0.9.1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `drift_cli-0.9.0.dist-info/METADATA` & `drift_cli-0.9.1.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: drift-cli
-Version: 0.9.0
+Version: 0.9.1
 Summary: CLI client for PANDA | Drift Platform
 Author-email: Alexey Timin <atimin@gmail.com>
 Maintainer-email: Alexey Timin <atimin@gmail.com>
 License: Mozilla Public License Version 2.0
         ==================================
         
         1. Definitions
@@ -390,15 +390,15 @@
 Classifier: Intended Audience :: Developers
 Classifier: Intended Audience :: System Administrators
 Classifier: Operating System :: OS Independent
 Classifier: Topic :: Database :: Front-Ends
 Requires-Python: >=3.8
 Description-Content-Type: text/markdown
 License-File: LICENSE
-Requires-Dist: drift-python-client ~=0.8.1
+Requires-Dist: drift-python-client ~=0.9.0
 Requires-Dist: click ~=8.1
 Requires-Dist: tomlkit ~=0.11
 Requires-Dist: rich ~=12.6
 Provides-Extra: docs
 Requires-Dist: mkdocs ~=1.3 ; extra == 'docs'
 Requires-Dist: mkdocs-material ~=8.3 ; extra == 'docs'
 Requires-Dist: plantuml-markdown ~=3.5 ; extra == 'docs'
```


# Comparing `tmp/astro_reduce-5.0.4-py3-none-any.whl.zip` & `tmp/astro_reduce-5.0.5-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,18 +1,18 @@
-Zip file size: 37981 bytes, number of entries: 16
--rwxrwx---  2.0 unx    41646 b- defN 24-May-06 13:15 astro_reduce.py
+Zip file size: 38074 bytes, number of entries: 16
+-rwxrwx---  2.0 unx    41731 b- defN 24-May-15 18:14 astro_reduce.py
 -rwxrwx---  2.0 unx     1978 b- defN 23-Jul-03 12:05 cosmetic.py
--rwxrwx---  2.0 unx     8598 b- defN 23-Aug-17 13:46 helpers.py
--rwxrwx---  2.0 unx       88 b- defN 23-Jul-03 12:05 astro_reduce-5.0.4.data/data/data/default.conv
--rwxrwx---  2.0 unx     1012 b- defN 23-Jul-03 12:05 astro_reduce-5.0.4.data/data/data/t120-andor1024.ahead
--rwxrwx---  2.0 unx    22916 b- defN 23-Jul-03 12:05 astro_reduce-5.0.4.data/data/data/t120.param
--rwxrwx---  2.0 unx    22909 b- defN 23-Jul-03 12:05 astro_reduce-5.0.4.data/data/data/t120.parampsfex
--rwxrwx---  2.0 unx     4669 b- defN 23-Jul-03 12:05 astro_reduce-5.0.4.data/data/data/t120.psfex
--rwxrwx---  2.0 unx     9179 b- defN 23-Jul-03 12:05 astro_reduce-5.0.4.data/data/data/t120.scamp
--rwxrwx---  2.0 unx     6916 b- defN 23-Jul-03 12:05 astro_reduce-5.0.4.data/data/data/t120.sex
--rwxrwx---  2.0 unx     1085 b- defN 24-May-06 13:17 astro_reduce-5.0.4.dist-info/LICENSE
--rwxrwx---  2.0 unx    18853 b- defN 24-May-06 13:17 astro_reduce-5.0.4.dist-info/METADATA
--rwxrwx---  2.0 unx       92 b- defN 24-May-06 13:17 astro_reduce-5.0.4.dist-info/WHEEL
--rwxrwx---  2.0 unx       69 b- defN 24-May-06 13:17 astro_reduce-5.0.4.dist-info/entry_points.txt
--rwxrwx---  2.0 unx       30 b- defN 24-May-06 13:17 astro_reduce-5.0.4.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     1442 b- defN 24-May-06 13:17 astro_reduce-5.0.4.dist-info/RECORD
-16 files, 141482 bytes uncompressed, 35567 bytes compressed:  74.9%
+-rwxrwx---  2.0 unx     8855 b- defN 24-May-15 18:14 helpers.py
+-rwxrwx---  2.0 unx       88 b- defN 23-Jul-03 12:05 astro_reduce-5.0.5.data/data/data/default.conv
+-rwxrwx---  2.0 unx     1012 b- defN 23-Jul-03 12:05 astro_reduce-5.0.5.data/data/data/t120-andor1024.ahead
+-rwxrwx---  2.0 unx    22916 b- defN 23-Jul-03 12:05 astro_reduce-5.0.5.data/data/data/t120.param
+-rwxrwx---  2.0 unx    22909 b- defN 23-Jul-03 12:05 astro_reduce-5.0.5.data/data/data/t120.parampsfex
+-rwxrwx---  2.0 unx     4669 b- defN 23-Jul-03 12:05 astro_reduce-5.0.5.data/data/data/t120.psfex
+-rwxrwx---  2.0 unx     9179 b- defN 23-Jul-03 12:05 astro_reduce-5.0.5.data/data/data/t120.scamp
+-rwxrwx---  2.0 unx     6916 b- defN 23-Jul-03 12:05 astro_reduce-5.0.5.data/data/data/t120.sex
+-rwxrwx---  2.0 unx     1085 b- defN 24-May-15 18:26 astro_reduce-5.0.5.dist-info/LICENSE
+-rwxrwx---  2.0 unx    18841 b- defN 24-May-15 18:26 astro_reduce-5.0.5.dist-info/METADATA
+-rwxrwx---  2.0 unx       92 b- defN 24-May-15 18:26 astro_reduce-5.0.5.dist-info/WHEEL
+-rwxrwx---  2.0 unx       69 b- defN 24-May-15 18:26 astro_reduce-5.0.5.dist-info/entry_points.txt
+-rwxrwx---  2.0 unx       30 b- defN 24-May-15 18:26 astro_reduce-5.0.5.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     1442 b- defN 24-May-15 18:26 astro_reduce-5.0.5.dist-info/RECORD
+16 files, 141812 bytes uncompressed, 35660 bytes compressed:  74.9%
```

## zipnote {}

```diff
@@ -3,47 +3,47 @@
 
 Filename: cosmetic.py
 Comment: 
 
 Filename: helpers.py
 Comment: 
 
-Filename: astro_reduce-5.0.4.data/data/data/default.conv
+Filename: astro_reduce-5.0.5.data/data/data/default.conv
 Comment: 
 
-Filename: astro_reduce-5.0.4.data/data/data/t120-andor1024.ahead
+Filename: astro_reduce-5.0.5.data/data/data/t120-andor1024.ahead
 Comment: 
 
-Filename: astro_reduce-5.0.4.data/data/data/t120.param
+Filename: astro_reduce-5.0.5.data/data/data/t120.param
 Comment: 
 
-Filename: astro_reduce-5.0.4.data/data/data/t120.parampsfex
+Filename: astro_reduce-5.0.5.data/data/data/t120.parampsfex
 Comment: 
 
-Filename: astro_reduce-5.0.4.data/data/data/t120.psfex
+Filename: astro_reduce-5.0.5.data/data/data/t120.psfex
 Comment: 
 
-Filename: astro_reduce-5.0.4.data/data/data/t120.scamp
+Filename: astro_reduce-5.0.5.data/data/data/t120.scamp
 Comment: 
 
-Filename: astro_reduce-5.0.4.data/data/data/t120.sex
+Filename: astro_reduce-5.0.5.data/data/data/t120.sex
 Comment: 
 
-Filename: astro_reduce-5.0.4.dist-info/LICENSE
+Filename: astro_reduce-5.0.5.dist-info/LICENSE
 Comment: 
 
-Filename: astro_reduce-5.0.4.dist-info/METADATA
+Filename: astro_reduce-5.0.5.dist-info/METADATA
 Comment: 
 
-Filename: astro_reduce-5.0.4.dist-info/WHEEL
+Filename: astro_reduce-5.0.5.dist-info/WHEEL
 Comment: 
 
-Filename: astro_reduce-5.0.4.dist-info/entry_points.txt
+Filename: astro_reduce-5.0.5.dist-info/entry_points.txt
 Comment: 
 
-Filename: astro_reduce-5.0.4.dist-info/top_level.txt
+Filename: astro_reduce-5.0.5.dist-info/top_level.txt
 Comment: 
 
-Filename: astro_reduce-5.0.4.dist-info/RECORD
+Filename: astro_reduce-5.0.5.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## astro_reduce.py

```diff
@@ -864,16 +864,17 @@
                 try:
                     wcs_header[hdrkey]
                 except:
                     wcs_header[hdrkey] = header[hdrkey]
             
             # save in output file
             fred = '{}/{}'.format(RED, basename(fimg))
-            hdunew = fits.PrimaryHDU(data,header=wcs_header)
-            hdunew.writeto(fred)#,overwrite=True)
+#            hdunew = fits.PrimaryHDU(data,header=wcs_header)
+#            hdunew.writeto(fred)#,overwrite=True)
+            fits.writeto(fred, data, header,output_verify='fix')#, overwrite=True)
             click.secho('file saved in {}'.format(fred),fg='green')
 
     # Report execution time.
     t1 = time()
     click.secho('\nAll done. ({})'.format(timedelta(seconds=int(t1 - t0))),
                 fg='green')
     # ALL DONE.
```

## helpers.py

```diff
@@ -10,15 +10,15 @@
 import numpy as np
 from astropy.io import fits
 from astropy.visualization import ImageNormalize, ZScaleInterval
 import astropy.units as u
 from astropy.coordinates import SkyCoord
 
 # List of all options.
-OPT_LIST = ['setup', 'clear', 'interpolate', 'verbose', 'tmppng', 'stkpng',
+OPT_LIST = ['setup', 'clear', 'clearall', 'interpolate', 'verbose', 'tmppng', 'stkpng',
             'sex', 'psfex', 'sexagain', 'scamp', 'nomaster', 'nostack',
             'astromatic','astrometrynet','forceimg']
 
 # List of astromatic commands.
 ASTROMATIC_LIST = ['sex', 'psfex', 'sexagain', 'scamp']
 
 # Comment for header keywords.
@@ -114,14 +114,25 @@
     aux_header['CUNIT2'] = ('DEG', 'Axis unit')
     aux_header['EQUINOX'] = (2000.0, 'Mean equinox')
     aux_header['RADESYS'] = ('ICRS ', 'Astrometric system')
     aux_header['CD1_1'] = (-2.138738809045E-04, 'Linear projection matrix')
     aux_header['CD1_2'] = (2.180959444292E-06, 'Linear projection matrix')
     aux_header['CD2_1'] = (-2.331002019312E-06, 'Linear projection matrix')
     aux_header['CD2_2'] = (-2.138176347970E-04, 'Linear projection matrix')
+    # replicate DATE in order to preserve the observation date
+    try:
+        aux_header['DATE'] = aux_header['DATE-OBS']
+    except:
+        pass
+    try:
+        aux_header['DATE-OBS'] = aux_header['DATE']
+    except:
+        pass    
+
+    
     return aux_header
 
 
 def dark_read_header(fname):
     '''Return exposure and standard file name for a dark field image.'''
     head = fits.getheader(fname)
     if 'EXPTIME' in head.keys():
```

## Comparing `astro_reduce-5.0.4.data/data/data/t120-andor1024.ahead` & `astro_reduce-5.0.5.data/data/data/t120-andor1024.ahead`

 * *Files identical despite different names*

## Comparing `astro_reduce-5.0.4.data/data/data/t120.param` & `astro_reduce-5.0.5.data/data/data/t120.param`

 * *Files identical despite different names*

## Comparing `astro_reduce-5.0.4.data/data/data/t120.parampsfex` & `astro_reduce-5.0.5.data/data/data/t120.parampsfex`

 * *Files identical despite different names*

## Comparing `astro_reduce-5.0.4.data/data/data/t120.psfex` & `astro_reduce-5.0.5.data/data/data/t120.psfex`

 * *Files identical despite different names*

## Comparing `astro_reduce-5.0.4.data/data/data/t120.scamp` & `astro_reduce-5.0.5.data/data/data/t120.scamp`

 * *Files identical despite different names*

## Comparing `astro_reduce-5.0.4.data/data/data/t120.sex` & `astro_reduce-5.0.5.data/data/data/t120.sex`

 * *Files identical despite different names*

## Comparing `astro_reduce-5.0.4.dist-info/LICENSE` & `astro_reduce-5.0.5.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `astro_reduce-5.0.4.dist-info/METADATA` & `astro_reduce-5.0.5.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 Metadata-Version: 2.1
 Name: astro-reduce
-Version: 5.0.4
+Version: 5.0.5
 Summary: A simple CCD-image reducer for the Observatoire de Paris-Meudon.
 Home-page: https://gitlab.com/vaubaill/astro_reduce
 Author: RaphaÃ«l Duque, Jeremie Vaubaillon
-Author-email: duque@physik.uni-frankfurt.de
+Author-email: vaubaill@imcce.fr
 License: MIT
 Keywords: astronomy reduction images automatic astrometry
 Platform: UNKNOWN
 Classifier: Environment :: Console
 Classifier: Programming Language :: Python :: 3.0
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Operating System :: Unix
```

## Comparing `astro_reduce-5.0.4.dist-info/RECORD` & `astro_reduce-5.0.5.dist-info/RECORD`

 * *Files 24% similar despite different names*

```diff
@@ -1,16 +1,16 @@
-astro_reduce.py,sha256=wl1feEA_HVuE_D9zK42i8fTSXeNqE6Nckv-U5X9zirw,41646
+astro_reduce.py,sha256=zQeLGlCtzgqGJXYHfnYf3QjLszUq1fJ1cq5jlg00ghE,41731
 cosmetic.py,sha256=z_V2KS040dfymlJBipVwvWPQu5-FCWWSKyxDCSnd-18,1978
-helpers.py,sha256=vtw1woYsOOKaUFBklYxlS3VqAK-9zDiP7Abzzea-BVE,8598
-astro_reduce-5.0.4.data/data/data/default.conv,sha256=RH7pPh2EHXGfnTAK5hdux4pN4gmsG53cIK53nUHx53Y,88
-astro_reduce-5.0.4.data/data/data/t120-andor1024.ahead,sha256=DOLeXK4vbJzynTtoTAZFvOlL68hBUir2z2oXGhP_ibg,1012
-astro_reduce-5.0.4.data/data/data/t120.param,sha256=UxhawRha4bQtsfcGjv439NNeyp1BV0VxY5qzxFvZ3a4,22916
-astro_reduce-5.0.4.data/data/data/t120.parampsfex,sha256=7vNBv2leLWRcK3zuL-s9gOFoCOZfobWiIJhemQ-z0pc,22909
-astro_reduce-5.0.4.data/data/data/t120.psfex,sha256=AiP8OxqhNtVY5B8u-QhzbFRSdGF6lIiN576Ry3voTZY,4669
-astro_reduce-5.0.4.data/data/data/t120.scamp,sha256=vaBWeaWFXitDg5h12P4QNdl2Oqf4q7QjcHF7GnNybDM,9179
-astro_reduce-5.0.4.data/data/data/t120.sex,sha256=tWsplYNRDR2azES0UXJnSCBeE6yMUhLJijj2CCp28lc,6916
-astro_reduce-5.0.4.dist-info/LICENSE,sha256=FjHlZEf0zDeAwluF6uMKcy2mAcuURhyvtxsgfqWzvR4,1085
-astro_reduce-5.0.4.dist-info/METADATA,sha256=7ZM9uUFcJlHx0dB3IKa1fhPA6CJy7lLRbhIECOb_zLw,18853
-astro_reduce-5.0.4.dist-info/WHEEL,sha256=g4nMs7d-Xl9-xC9XovUrsDHGXt-FT0E17Yqo92DEfvY,92
-astro_reduce-5.0.4.dist-info/entry_points.txt,sha256=tlke07hQ4iuIk0jLeCmnxXMcMq0X0MuZQ7XWVP37Dyk,69
-astro_reduce-5.0.4.dist-info/top_level.txt,sha256=dsWBWU8mbMA4Tii1KKr7cSop6EvRLYtQ-WSBe7VW3FI,30
-astro_reduce-5.0.4.dist-info/RECORD,,
+helpers.py,sha256=gAsr-YCPHxtMJYMR_3XceaZtXUo2aXJuSbabLqEfFrM,8855
+astro_reduce-5.0.5.data/data/data/default.conv,sha256=RH7pPh2EHXGfnTAK5hdux4pN4gmsG53cIK53nUHx53Y,88
+astro_reduce-5.0.5.data/data/data/t120-andor1024.ahead,sha256=DOLeXK4vbJzynTtoTAZFvOlL68hBUir2z2oXGhP_ibg,1012
+astro_reduce-5.0.5.data/data/data/t120.param,sha256=UxhawRha4bQtsfcGjv439NNeyp1BV0VxY5qzxFvZ3a4,22916
+astro_reduce-5.0.5.data/data/data/t120.parampsfex,sha256=7vNBv2leLWRcK3zuL-s9gOFoCOZfobWiIJhemQ-z0pc,22909
+astro_reduce-5.0.5.data/data/data/t120.psfex,sha256=AiP8OxqhNtVY5B8u-QhzbFRSdGF6lIiN576Ry3voTZY,4669
+astro_reduce-5.0.5.data/data/data/t120.scamp,sha256=vaBWeaWFXitDg5h12P4QNdl2Oqf4q7QjcHF7GnNybDM,9179
+astro_reduce-5.0.5.data/data/data/t120.sex,sha256=tWsplYNRDR2azES0UXJnSCBeE6yMUhLJijj2CCp28lc,6916
+astro_reduce-5.0.5.dist-info/LICENSE,sha256=FjHlZEf0zDeAwluF6uMKcy2mAcuURhyvtxsgfqWzvR4,1085
+astro_reduce-5.0.5.dist-info/METADATA,sha256=oKlj36ixqcwoRzESTk6Y-p4l2btLUAakOX7ZZPKPxE8,18841
+astro_reduce-5.0.5.dist-info/WHEEL,sha256=g4nMs7d-Xl9-xC9XovUrsDHGXt-FT0E17Yqo92DEfvY,92
+astro_reduce-5.0.5.dist-info/entry_points.txt,sha256=tlke07hQ4iuIk0jLeCmnxXMcMq0X0MuZQ7XWVP37Dyk,69
+astro_reduce-5.0.5.dist-info/top_level.txt,sha256=dsWBWU8mbMA4Tii1KKr7cSop6EvRLYtQ-WSBe7VW3FI,30
+astro_reduce-5.0.5.dist-info/RECORD,,
```

